@model IEnumerable<InsideAirBNB.Models.SummaryListings>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <p>
        <a asp-action="Create">Create New</a>
    </p>
    <p>hallo dit is een pagina</p>



    <script type="text/javascript">
    function AlertName(name) {
        alert('Wat een mooie naam ' + name + "!");
    }
    </script>

    <p>well hello here comes my test</p>
    <button onclick="AlertName('Tim')">Tim</button>
    <button onclick="AlertName('Tom')">Tom</button>

    <script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 10%;
            bottom: 0;
            width: 40%;
            height: 40%;
        }

        .marker {
            background-image: url('https://www.quantmania.nl/wp-content/uploads/2018/02/map-marker-icon-300x300.png');
            background-size: cover;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
        }
    </style>

    <div id='map'></div>

    <script>
    L.mapbox.accessToken = 'pk.eyJ1IjoidGltMzYzIiwiYSI6ImNrOW1yYjN6ajA3enUza3MwMmJwbTk0MGYifQ.Lk-6Gc9r6Cjg-heLLQoVIA';
    var map = L.mapbox.map('map')
        .setView([40, 0], 2)
        .addLayer(L.mapbox.styleLayer('mapbox://styles/mapbox/streets-v11'));

    // Define an icon called cssIcon
    var marker = L.divIcon({
        // Specify a class name we can refer to in CSS.
        className: 'marker',
        // Set marker width and height
        iconSize: [60, 60]
    });

    // Create three markers and set their icons to cssIcon
    L.marker([51.848, 5.862], { icon: marker }).addTo(map);
    </script>


    <table class="table">
        <thead>
            <tr>
            </tr>
        </thead>
        <tbody>
            <p>@{int aantal = 0;}</p>
            @foreach (var item in Model)
            {
                if (aantal < 20)
                {
                <script>
                    L.marker([@item.Latitude.ToString().Insert(2, "."), @item.Longitude.ToString().Insert(1, ".")], { icon: marker }).addTo(map);

                </script>
                }
                aantal++;

                <p>@{Console.WriteLine("lat: " + item.Latitude.ToString().Insert(2, "."));}</p>
                <p>@{Console.WriteLine("long: " + item.Longitude.ToString().Insert(2, "."));}</p>

                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</body>
</html>
